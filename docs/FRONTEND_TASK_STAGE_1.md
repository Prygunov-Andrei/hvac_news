# Задание для Фронтенд-разработчика (Этап 1)

**Цель этапа:** Реализовать базовый каркас приложения, настройку роутинга, и полноценную систему авторизации (Регистрация, Вход, Личный кабинет).

**Стек:** React / Next.js (App Router рекомендуется), TailwindCSS.

## 1. Структура приложения и роутинг
Необходимо реализовать следующие страницы:

*   `/` - Главная страница (пока заглушка "Home Page").
*   `/login` - Страница входа.
*   `/register` - Страница регистрации.
*   `/dashboard` - Личный кабинет (защищенный маршрут, доступен только авторизованным).

## 2. Требования к функционалу

### 2.1. Аутентификация (JWT)
*   Использовать `localStorage` или `cookies` для хранения `access` и `refresh` токенов.
*   При загрузке приложения проверять наличие токена.
*   Реализовать `axios interceptor` (или аналог) для автоматического обновления токена (refresh), если access токен истек (получили 401 ошибку).
*   Если refresh токен тоже истек — разлогинивать пользователя и редиректить на `/login`.

### 2.2. Страница Регистрации
*   Поля: Email, Имя, Фамилия, Пароль, Подтверждение пароля.
*   Валидация: Пароли должны совпадать.
*   Действие: Отправка POST запроса.
*   Успех: Перенаправление на `/login` или автоматический вход.
*   Ошибка: Отображение ошибки под полями (например, "Пользователь с таким email уже существует").

### 2.3. Страница Входа
*   Поля: Email, Пароль.
*   Успех: Сохранение токенов, редирект на `/dashboard`.

### 2.4. Личный кабинет (/dashboard)
*   Отображение данных пользователя: "Привет, {first_name}!".
*   Кнопка "Выйти" (Logout) — удаляет токены, редиректит на главную.

---

## 3. API Specification

**Base URL:** `http://localhost:8000/api/auth`

### 3.1. Регистрация
**Endpoint:** `POST /users/`

**Request Body:**
```json
{
  "email": "user@example.com",
  "first_name": "Ivan",
  "last_name": "Ivanov",
  "password": "StrongPassword123!",
  "password_confirm": "StrongPassword123!"
}
```

**Response (201 Created):**
```json
{
  "email": "user@example.com",
  "first_name": "Ivan",
  "last_name": "Ivanov",
  ...
}
```

### 3.2. Получение токена (Логин)
**Endpoint:** `POST /jwt/create/`

**Request Body:**
```json
{
  "email": "user@example.com",
  "password": "StrongPassword123!"
}
```

**Response (200 OK):**
```json
{
  "access": "eyJ0eX...",
  "refresh": "eyJ0eX..."
}
```

### 3.3. Обновление токена
**Endpoint:** `POST /jwt/refresh/`

**Request Body:**
```json
{
  "refresh": "eyJ0eX..."
}
```

**Response (200 OK):**
```json
{
  "access": "eyJ0eX..."
}
```

### 3.4. Получение данных пользователя (Me)
**Endpoint:** `GET /users/me/`
**Headers:** `Authorization: Bearer <access_token>`

**Response (200 OK):**
```json
{
  "id": 1,
  "email": "user@example.com",
  "first_name": "Ivan",
  "last_name": "Ivanov",
  "is_active": true,
  "is_staff": false,
  "date_joined": "2023-11-27T10:00:00Z"
}
```

---

## 4. Чек-лист для сдачи (QA)

*   [ ] Регистрация нового пользователя проходит успешно.
*   [ ] Нельзя зарегистрироваться с существующим email (ошибка валидации).
*   [ ] Вход с правильным паролем работает, токены сохраняются.
*   [ ] Вход с неправильным паролем выдает ошибку.
*   [ ] Страница `/dashboard` не открывается без авторизации (редирект на login).
*   [ ] На странице `/dashboard` отображается имя пользователя (загруженное через `/users/me/`).
*   [ ] Кнопка "Выйти" работает корректно.
*   [ ] После истечения access токена (можно эмулировать, удалив часть символов или подождав), приложение само обновляет токен прозрачно для пользователя (не выкидывает на логин сразу).

